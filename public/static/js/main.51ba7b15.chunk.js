(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(71),s=a.n(o),l=a(4),c=a(2),i=a(3),u=a(7),m=a(6),d=(a(79),a(8)),h=a(1),p=a.n(h),v=a(5),g=a(34),f=a.n(g),E=new(function(){function e(){Object(c.a)(this,e),this.auth=f.a.create({baseURL:"https://tixid2.herokuapp.com",withCredentials:!0})}return Object(i.a)(e,[{key:"signup",value:function(e){var t=e.username,a=e.email,n=e.password;return this.auth.post("/auth/signup",{username:t,email:a,password:n}).then((function(e){return e.data}))}},{key:"login",value:function(e){var t=e.email,a=e.password;return this.auth.post("/auth/login",{email:t,password:a}).then((function(e){return e.data}))}},{key:"logout",value:function(){return this.auth.get("/auth/logout",{}).then((function(e){return e.data}))}},{key:"me",value:function(){return this.auth.get("/auth/me").then((function(e){return e.data}))}},{key:"bringDeck",value:function(){return this.auth.get("/game/deck").then((function(e){return e.data}))}}]),e}()),b=r.a.createContext(),y=b.Consumer,C=b.Provider,O=function(e){return function(t){Object(u.a)(n,t);var a=Object(m.a)(n);function n(){return Object(c.a)(this,n),a.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var t=this;return r.a.createElement(y,null,(function(a){var n=a.login,o=a.signup,s=a.user,l=a.logout,c=a.isLoggedin;return r.a.createElement(e,Object.assign({login:n,signup:o,user:s,logout:l,isLoggedin:c},t.props))}))}}]),n}(r.a.Component)},w=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isLoggedin:!1,user:null,isLoading:!0,message:"",cards:""},e.signup=function(){var t=Object(v.a)(p.a.mark((function t(a){var n,r,o,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.username,r=a.email,o=a.password,t.prev=1,t.next=4,E.signup({username:n,email:r,password:o});case 4:s=t.sent,e.setState({isLoggedin:!0,user:s}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),e.login=function(){var t=Object(v.a)(p.a.mark((function t(a){var n,r,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.email,r=a.password,t.prev=1,t.next=4,E.login({email:n,password:r});case 4:o=t.sent,e.setState({isLoggedin:!0,user:o}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),e.logout=Object(v.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.logout();case 3:e.setState({isLoggedin:!1,user:null}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))),e.bringDeck=Object(v.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.bringDeck();case 3:a=t.sent,e.setState({cards:a}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:return t.abrupt("return",e.auth.get("/game/deck").then((function(e){return e.data})));case 11:case"end":return t.stop()}}),t,null,[[0,7]])}))),e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.me().then((function(t){t.email&&e.setState({isLoggedin:!0,user:t,isLoading:!1})})).catch((function(t){return e.setState({isLoggedin:!1,user:null,isLoading:!1,message:t.message})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;t.isLoggedin!==this.state.isLoggedin&&E.me().then((function(e){e.email&&a.state.isLoggedin&&a.setState({isLoggedin:!0,user:e,isLoading:!1})})).catch((function(e){return a.setState({isLoggedin:!1,user:null,isLoading:!1,message:e.message})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.isLoggedin,n=e.user,o=this.login,s=this.logout,l=this.signup;return t?r.a.createElement("div",null,"Loading"):r.a.createElement(C,{value:{isLoggedin:a,user:n,login:o,logout:s,signup:l}},this.props.children)}}]),a}(r.a.Component),k=a(9),j=O(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={username:"",email:"",password:""},e.handleFormSubmit=function(){var t=Object(v.a)(p.a.mark((function t(a){var n,r,o,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),n=e.state,r=n.username,o=n.email,s=n.password,console.log("Signup -> form submit",{username:r,email:o,password:s}),e.props.signup({username:r,email:o,password:s});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(k.a)({},n,r))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.email,n=e.password;return r.a.createElement("div",{className:"authform"},r.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"enterForm"},r.a.createElement("div",{className:"inputs"},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:t,placeholder:"Dixiter123",onChange:this.handleChange}),r.a.createElement("label",null,"Email:"),r.a.createElement("input",{type:"text",name:"email",value:a,placeholder:"welcometo@dixit.com",onChange:this.handleChange}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:n,placeholder:"******",onChange:this.handleChange}),r.a.createElement("input",{className:"signupbttn",type:"submit",value:"Signup"}),r.a.createElement(l.b,{className:"link",to:"/login"},r.a.createElement("p",null,"Already have account?")))))}}]),a}(n.Component)),N=O(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleFormSubmit=function(t){t.preventDefault();var a=e.state,n=a.email,r=a.password;console.log("Login -> form submit",{email:n,password:r}),e.props.login({email:n,password:r})},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(k.a)({},n,r))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password;return r.a.createElement("div",{className:"authform"},r.a.createElement("div",{className:"inputs"},r.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"enterForm"},r.a.createElement("label",null,"Email:"),r.a.createElement("input",{type:"text",name:"email",placeholder:"welcometo@dixit.com",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",placeholder:"******",value:a,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Login"}),r.a.createElement("div",null,r.a.createElement(l.b,{to:"/signup",className:"link"},"Don't have an account?")))))}}]),a}(n.Component)),S=(a(101),O(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=(e.user,e.logout);return r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"nav"},r.a.createElement("div",{className:"nav-links"}),r.a.createElement("button",{className:"navbar-button",onClick:t},"Logout"),r.a.createElement(l.b,{to:"/profile",id:"home-btn"},r.a.createElement("button",{className:"navbar-button"},"Profile")),r.a.createElement(l.b,{to:"/rules",id:"home-btn"},r.a.createElement("button",{className:"navbar-button"},"Rules")),r.a.createElement(l.b,{to:"/",id:"home-btn"},r.a.createElement("button",{className:"navbar-button"},"Game"))))}}]),a}(n.Component))),x=(a(36),a(24)),T=a.n(x);var L=O((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:" authform"},r.a.createElement("div",{className:"enterForm2"},r.a.createElement("h2",null,"Welcome to Dixit!"),r.a.createElement(l.b,{className:"loginlink",to:"/login"},"Log In!"),r.a.createElement("p",{className:"signuptext"},"Don't have an account? ",r.a.createElement(l.b,{className:"signuplink",to:"/signup"}," Sign Up! ")))))}));var _=O((function(e){return r.a.createElement("div",null,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:T.a.Container},r.a.createElement("video",{autoPlay:"autoplay",loop:"loop",muted:!0,className:T.a.Video},r.a.createElement("source",{src:"https://res.cloudinary.com/lemonade292/video/upload/v1606155635/videos%20tixid/VIDEO_Dixit_Boxart_seafhb.mp4",type:"video/mp4"}),"Your browser does not support the video tag."),r.a.createElement("div",{className:T.a.Content},r.a.createElement(S,null),r.a.createElement("div",{className:T.a.SubContent},r.a.createElement("p",null,"Welcome to Dixit ",e.user.username&&e.user.username,"!"),r.a.createElement("br",null),r.a.createElement(l.b,{to:"/game"},r.a.createElement("button",null,"Let's Play!")))))))})),F=new(function(){function e(){var t=this;Object(c.a)(this,e),this.handleUpload=function(){var e=Object(v.a)(p.a.mark((function e(a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("file in service: ",a),e.prev=1,e.next=4,t.profile.post("/profile/upload",a);case 4:return n=e.sent,e.abrupt("return",n.data);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),this.profile=f.a.create({baseURL:"https://tixid2.herokuapp.com",withCredentials:!0})}return Object(i.a)(e,[{key:"addCard",value:function(e){var t=e.image,a=e.name,n=e.author;return this.profile.post("/profile/addCard",{image:t,name:a,author:n}).then((function(e){return e.data}))}},{key:"editCard",value:function(e){var t=e.id,a=e.image,n=e.name;return console.log("aqu\xed ha llegado a service",t),this.profile.post("/profile/editCard/".concat(t),{id:t,image:a,name:n}).then((function(e){return e.data}))}},{key:"deleteCard",value:function(e,t){return console.log("serviceeeeeeeeeeeeeeeeeeeee",t),this.profile.delete("/profile/deleteCard/".concat(t,"/").concat(e),{cardId:e,userId:t}).then((function(e){return e.data}))}},{key:"cardList",value:function(e){return this.profile.get("/profile/cardList/".concat(e),{author:e}).then((function(e){return e.data}))}},{key:"addPhoto",value:function(e){var t=e.image,a=e.author;return console.log("serviceeeeeeeeeeeeeeeeeeeee",a,t),this.profile.post("/profile/addPhoto/".concat(a),{author:a,image:t}).then((function(e){return e.data}))}}]),e}()),A=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(k.a)({},a,r))},n.handleFileUpload=function(){var e=Object(v.a)(p.a.mark((function e(t){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("the file to be uploaded is: ",t.target.files[0]),(a=new FormData).append("image",t.target.files[0]),e.prev=3,e.next=6,F.handleUpload(a);case 6:r=e.sent,console.log("response is",r),n.setState({image:r.secure_url}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("while uploading",e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),n.handleFormSubmit=function(){var e=Object(v.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,F.addCard(n.state);case 4:a=e.sent,console.log("added",a),n.setState({image:"",name:""}),console.log(n.props.history),window.location.reload(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("while adding the movie error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),n.state={image:"",name:"",author:e.user._id},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=(t.image,t.name);return r.a.createElement("div",{className:"addCard"},r.a.createElement("h2",null,"Create your Cards!"),r.a.createElement("form",{className:"addCardsForm",onSubmit:this.handleFormSubmit},r.a.createElement("div",{className:"cardTitle"},r.a.createElement("label",null,"Card's Title:"),r.a.createElement("input",{id:"cardTitleInput",type:"text",name:"name",value:a,onChange:this.handleChange})),r.a.createElement("div",{className:"selectCardPic"},r.a.createElement("label",{for:"cardPicUpload"},"Choose an image:"),r.a.createElement("input",{id:"cardPicUpload",type:"file",name:"image",onChange:function(t){return e.handleFileUpload(t)}})),r.a.createElement("button",{className:"cardPicButton",type:"submit"},"Upload That Card")))}}]),a}(n.Component),R=O(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),console.log(e),(n=t.call(this,e)).handleFormSubmit=function(){var e=Object(v.a)(p.a.mark((function e(t){var a,r,o,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=n.state,r=a.id,o=a.image,s=a.name,console.log("esto es lo que hay en el estado",n.state),console.log("uploadimage -> form submit",{id:r,image:o,name:s}),F.editCard({id:r,image:o,name:s}),n.setState({image:"",name:""}),n.props.history.push("/profile"),console.log(n.props);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(k.a)({},a,r))},n.state={name:"",image:"",id:n.props.match.params.id},console.log("esto viene de props",n.props.match.params.id),n}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state,t=e.image,a=e.name;return r.a.createElement("div",null,r.a.createElement("h1",null,"Edit"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Name:"),r.a.createElement("input",{type:"text",name:"name",value:a,onChange:this.handleChange}),r.a.createElement("label",null,"Image:"),r.a.createElement("input",{type:"file",name:"image",value:t,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Upload"})))}}]),a}(n.Component)),P=a(25),D=a(22),U=(a(56),n.Component,a(102),O(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),console.log("props del perfil",e),(n=t.call(this,e)).handleFileUpload=function(){var e=Object(v.a)(p.a.mark((function e(t){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("the file to be uploaded is: ",t.target.files[0]),(a=new FormData).append("image",t.target.files[0]),e.prev=3,e.next=6,F.handleUpload(a);case 6:r=e.sent,console.log("response is",r),n.setState({image:r.secure_url}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("while uploading",e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),n.handlePhotoSubmit=function(){var e=Object(v.a)(p.a.mark((function e(t){var a,r,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a=n.state.user._id,r=n.state.image,console.log("JHOLA CLAUDIA",r,a),e.next=7,F.addPhoto({image:r,author:a});case 7:o=e.sent,console.log("added",o),n.setState({image:""}),console.log("pastanaga"),window.location.reload(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log("while adding the movie error",e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),n.state={cards:[],user:e.user,image:"",userId:e.user._id},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;return F.cardList(this.state.user._id).then((function(t){e.setState({cards:t})})).catch((function(e){return console.log(e)}))}},{key:"delete",value:function(e,t){console.log(this.state.user._id),F.deleteCard(t.eachCard._id,this.state.userId),console.log("props del profile",this.props),this.props.history.push("/profile"),window.location.reload()}},{key:"edit",value:function(){F.editCard()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null),r.a.createElement("div",{className:"profile"},r.a.createElement("div",{className:"userInfo"},r.a.createElement("h1",null," ",this.state.user.username,"'s Profile"),r.a.createElement("div",{className:"profPic"},r.a.createElement("img",{src:this.state.user.image,alt:"profile"}),r.a.createElement("form",{onSubmit:this.handlePhotoSubmit},r.a.createElement("div",{className:"selectProfPic"},r.a.createElement("label",{for:"profPicUpload"},"Select a new picture"),r.a.createElement("input",{id:"profPicUpload",type:"file",name:"image",onChange:function(t){return e.handleFileUpload(t)}})),r.a.createElement("button",{class:"profPicButton",type:"submit"},"Upload that picture"))),r.a.createElement(A,Object.assign({user:this.state.user},this.props))),r.a.createElement("div",{className:"UserCards"},this.state.cards&&this.state.cards.map((function(t){return r.a.createElement("div",{className:"cardDiv",key:t._id},r.a.createElement("img",{src:t.image,alt:"peine"}),r.a.createElement("h1",null,t.name),r.a.createElement("button",{class:"customCardButton",onClick:function(a){return e.delete(a,{eachCard:t})}},"Delete"),r.a.createElement(l.b,{to:"/editCard/".concat(t._id)},r.a.createElement("button",{class:"customCardButton"},"Edit")))})))))}}]),a}(n.Component))),I=a(28),M=a.n(I);var H=O((function(e){return r.a.createElement("div",null,r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null),r.a.createElement("div",{className:M.a.Container},r.a.createElement("video",{autoPlay:"autoplay",loop:"loop",muted:!0,className:M.a.Video},r.a.createElement("source",{src:"https://res.cloudinary.com/lemonade292/video/upload/v1606155635/videos%20tixid/VIDEO_Dixit_Cards_layvcn.mp4",type:"video/mp4"}),"Your browser does not support the video tag."),r.a.createElement("div",{className:M.a.Content},r.a.createElement("div",{className:M.a.SubContent},r.a.createElement("div",{className:"rules left"},r.a.createElement("h1",null,"The storyteller"),r.a.createElement("p",null,"One player is the storyteller for the turn. He looks at the 4 images in his hand. From one of these, he makes up a sentence and says it out loud (without showing the card to the other players)."),r.a.createElement("p",null,"The sentence can take different forms: it can be made of one word or more, it can even be a sound. The sentence can be either invented or be inspired from an existing work of art (poetry or song sample, movie title, proverb, etc)."),r.a.createElement("p",null,"Who is the storyteller for the first turn? The first player who has found a sentence declares she'll be the storyteller for the first turn.")),r.a.createElement("div",{className:"rules right"},r.a.createElement("h1",null,"Choosing a card for the storyteller"),r.a.createElement("p",null,"The other players select amongst their 4 images the one that best matches the sentence made up by the storyteller."),r.a.createElement("p",null,"Our web shuffles his card with all the received cards, then randomly places them face up on the table. The card on the left will be number 1, the one next to it will be number 2, and so on...")),r.a.createElement("div",{className:"rules  left"},r.a.createElement("h1",null,"Finding the storyteller's image: the vote"),r.a.createElement("p",null,"The goal of the other players is to find which image is from the storyteller amongst the displayed ones. USE THE CHAT!! DISCUSS!!! THIS IS THE FUN PART!!! "),r.a.createElement("p",null,"Once everybody has decided their vote, (remeber that you cannot vote for your own card and the storyteller does not vote) one of you shoul introduce the votes manually."),r.a.createElement("p",null,"Don't worry about drawing a new card you migth have noticed that or web does it for you once you send the selected card.")),r.a.createElement("div",{className:"rules right"},r.a.createElement("h1",null,"End of the game"),r.a.createElement("p",null,"In our version of the game the first player to arribe to 30 points wins. CONGRATULATIONS!!")),r.a.createElement("br",null),r.a.createElement(l.b,{to:"/game"},r.a.createElement("button",null,"Let's Play!")))))))})),V=a(73),B=a.n(V),J=(a(133),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"scrolling-box"},r.a.createElement("table",null,r.a.createElement("tbody",null,this.props.messages.map((function(e){return r.a.createElement("tr",{key:e.key},r.a.createElement("td",null,e.name,":"),r.a.createElement("td",null,e.message))})))))}}]),a}(n.Component)),G=(a(134),B()("https://tixid2.herokuapp.com",{transports:["websocket","polling"]})),W=O(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n,r;return Object(c.a)(this,a),console.log(e),(r=t.call(this,e)).dealHand=function(e,t){return function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[a],e[a]=n}}(e),Array.prototype.chunk=function(e){return this.length?[this.slice(0,e)].concat(this.slice(e).chunk(e)):[]},e.chunk(e.length/4)},r.handleChange=function(e){var t=e.target,a=t.name,n=t.value;r.setState(Object(k.a)({},a,n))},r.votesFunction=Object(v.a)(p.a.mark((function e(){var t,a,n,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0,a=0,n=0,o=0,console.log("FUNCTION 22222222222222222222222222222"),console.log("arr1votedto ON F2",r.state.arr1votedTo),console.log("arr2votedto ON F2",r.state.arr2votedTo),console.log("arr3votedto ON F2",r.state.arr3votedTo),0==r.state.arr1votedTo?t++:2==r.state.arr1votedTo?n++:3==r.state.arr1votedTo&&o++,0==r.state.arr2votedTo?t++:1==r.state.arr2votedTo?a++:3==r.state.arr2votedTo&&o++,0==r.state.arr3votedTo?t++:2==r.state.arr3votedTo?n++:1==r.state.arr3votedTo&&a++,console.log("FUNCTION votes function"),console.log("arr0temp",t),console.log("arr1temp",a),console.log("arr2temp",n),console.log("arr3temp",o),r.setState({arr0votesReceived:t,arr1votesReceived:a,arr2votesReceived:n,arr3votesReceived:o}),console.log(" after set state",Object(D.a)(r)),console.log("arr0votesReceived",r.state.arr0votesReceived),console.log("arr1votesReceived",r.state.arr1votesReceived),console.log("arr2votesReceived",r.state.arr2votesReceived),console.log("arr3votesReceived",r.state.arr3votesReceived);case 22:case"end":return e.stop()}}),e)}))),r.givePoints=function(){console.log("FUNCTION GIVE POINTS"),console.log("arr1votedto",r.state.arr1votedTo),console.log("arr2votedto",r.state.arr2votedTo),console.log("arr3votedto",r.state.arr3votedTo),console.log("arr0votesReceived",r.state.arr0votesReceived),console.log("arr1votesReceived",r.state.arr1votesReceived),console.log("arr2votesReceived",r.state.arr2votesReceived),console.log("arr3votesReceived",r.state.arr3votesReceived);var e=0,t=0,a=0,n=0;0==r.state.arr0votesReceived||3==r.state.arr0votesReceived?(t+=2,a+=2,n+=2):(e+=3,0==r.state.arr1votedTo&&(t+=3),0==r.state.arr2votedTo&&(a+=3),0==r.state.arr3votedTo&&(n+=3)),t+=r.state.arr1votesReceived,a+=r.state.arr2votesReceived,n+=r.state.arr3votesReceived;var o=r.state.playersArr[0].points+e,s=r.state.playersArr[1].points+t,l=r.state.playersArr[2].points+a,c=r.state.playersArr[3].points+n,i=Object(P.a)(r.state.playersArr);i[0].points=o,i[1].points=s,i[2].points=l,i[3].points=c,console.log("hola",o),i.push(i[0]),i.shift(),r.setState({playersArr:i})},r.bothFunctions=function(){var e=Object(v.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,r.votesFunction();case 3:r.givePoints();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state=(n={name:null,messages:[],newMessage:"",user:r.props.user,cards:[],players:[],playersArr:[{name:"Player1",image:"",points:0,id:""},{name:"Player2",image:"",points:0,id:""},{name:"Player3",image:"",points:0,id:""},{name:"Player4",image:"",points:0,id:""}],playerhands:{player1:[],player2:[],player3:[],player4:[]},yourhand:[],selected:[],info:[],currentplayer:0,theChosenOne:{}},Object(k.a)(n,"players",[]),Object(k.a)(n,"arr1votedTo",0),Object(k.a)(n,"arr2votedTo",0),Object(k.a)(n,"arr3votedTo",0),Object(k.a)(n,"arr0votesReceived",0),Object(k.a)(n,"arr1votesReceived",0),Object(k.a)(n,"arr2votesReceived",0),Object(k.a)(n,"arr3votesReceived",0),n),r}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("Hola"),G.emit("hola",this.props.user),G.on("welcome",function(){var t=Object(v.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("Hello ".concat(a.data," you are in room ").concat(a.room,", and are player ").concat(a.player)),e.setState({currentplayer:a.player}),console.log(e.state.currentplayer);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),G.on("otherusers",(function(e){console.log(e)})),G.on("players",(function(t){console.log("hola",t),e.setState({playersArr:t})})),G.on("chat",(function(t){t.key=JSON.stringify(t),console.log(t),e.setState({messages:[].concat(Object(P.a)(e.state.messages),[t])})})),G.on("selectedcards",(function(t){e.setState({selected:t})}))}},{key:"getCards",value:function(){var e=Object(v.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.bringDeck();case 2:t=e.sent,this.setState({cards:t}),a=this.dealHand(this.state.cards,4),this.setState({playerhands:{player1:a[0],player2:a[1],player3:a[2],player4:a[3]}}),console.log(this.state.currentplayer),this.assignHand();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){console.log(this.state.players),G.close()}},{key:"handleSubmit",value:function(e){e.preventDefault(),G.emit("chat",{userId:this.props.user._id,name:this.props.user.username,message:this.state.newMessage,timestamp:(new Date).toISOString()}),this.setState({newMessage:""})}},{key:"setNewMessage",value:function(e){this.setState({newMessage:e.target.value})}},{key:"assignHand",value:function(){1===this.state.currentplayer?this.setState({yourhand:this.state.playerhands.player1}):2===this.state.currentplayer?this.setState({yourhand:this.state.playerhands.player2}):3===this.state.currentplayer?this.setState({yourhand:this.state.playerhands.player3}):4===this.state.currentplayer&&this.setState({yourhand:this.state.playerhands.player4})}},{key:"selectCard",value:function(e){var t=e.target.name;this.setState({theChosenOne:{name:t}})}},{key:"sumbitTheChosenOne",value:function(){var e=this,t=Object(P.a)(this.state.yourhand);t.find((function(a,n){if(a.url===e.state.theChosenOne.name)return t.splice(n,1),!0})),G.emit("cardselected",this.state.theChosenOne.name),this.setState({yourhand:t})}},{key:"render",value:function(){var e=this;this.state.playersArr;return r.a.createElement("div",{className:"root"},this.state.currentplayer?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"tableDefault"},r.a.createElement(l.b,{to:"/"},r.a.createElement("button",null,"Get out")),this.state.selected.length?r.a.createElement("div",{className:"player"},r.a.createElement("div",{className:"selected"},r.a.createElement("img",{src:this.state.selected[0],alt:""}),r.a.createElement("h3",null,"1")),r.a.createElement("div",{className:"selected"},r.a.createElement("img",{src:this.state.selected[1],alt:""}),r.a.createElement("h3",null,"2")),r.a.createElement("div",{className:"selected"},r.a.createElement("img",{src:this.state.selected[2],alt:""}),r.a.createElement("h3",null,"3")),r.a.createElement("div",{className:"selected"},r.a.createElement("img",{src:this.state.selected[3],alt:""}),r.a.createElement("h3",null,"4"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:""},"Here you will see everybody's cards in each round"))),r.a.createElement("div",{className:"pointsdiv"},r.a.createElement("form",{className:"pointsform",onSubmit:this.bothFunctions},r.a.createElement("div",{className:"initial"},r.a.createElement("h2",null,"Initial player"),r.a.createElement("div",{className:"turn"},r.a.createElement("p",null,this.state.playersArr[0].name," : ",this.state.playersArr[0].points," points"))),r.a.createElement("div",{className:"restOfPlayers"},r.a.createElement("div",{className:"playerColumn"},r.a.createElement("label",null,this.state.playersArr[1].name," : ",this.state.playersArr[1].points," points"),r.a.createElement("div",null,r.a.createElement("p",null,this.state.playersArr[0].name),r.a.createElement("input",{id:"input1",type:"radio",name:"arr1votedTo",value:"0",onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement("p",null,this.state.playersArr[2].name),r.a.createElement("input",{type:"radio",name:"arr1votedTo",value:"2",onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement("p",null,this.state.playersArr[3].name),r.a.createElement("input",{type:"radio",name:"arr1votedTo",value:"3",onChange:this.handleChange}))),r.a.createElement("div",{className:"playerColumn"},r.a.createElement("label",null,this.state.playersArr[2].name," : ",this.state.playersArr[2].points," points"),r.a.createElement("div",null,r.a.createElement("p",null,this.state.playersArr[0].name),r.a.createElement("input",{type:"radio",name:"arr2votedTo",value:"0",onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement("p",null,this.state.playersArr[1].name),r.a.createElement("input",{type:"radio",name:"arr2votedTo",value:"1",onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement("p",null,this.state.playersArr[3].name),r.a.createElement("input",{type:"radio",name:"arr2votedTo",value:"3",onChange:this.handleChange}))),r.a.createElement("div",{className:"playerColumn"},r.a.createElement("label",null,this.state.playersArr[3].name," : ",this.state.playersArr[3].points," points"),r.a.createElement("div",null,r.a.createElement("p",null,this.state.playersArr[0].name),r.a.createElement("input",{type:"radio",name:"arr3votedTo",value:"0",onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement("p",null,this.state.playersArr[1].name),r.a.createElement("input",{type:"radio",name:"arr3votedTo",value:"1",onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement("p",null,this.state.playersArr[2].name),r.a.createElement("input",{type:"radio",name:"arr3votedTo",value:"2",onChange:this.handleChange})))),r.a.createElement("button",null,"Let's Vote!"))),this.state.yourhand.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"allhands"},r.a.createElement("div",{className:"player"},r.a.createElement("div",{className:"card"},r.a.createElement("img",{src:this.state.yourhand[0].url,alt:""}),r.a.createElement("button",{name:this.state.yourhand[0].url,index:0,onClick:function(t){return e.selectCard(t)}},"Select")),r.a.createElement("div",{className:"card"},r.a.createElement("img",{src:this.state.yourhand[1].url,alt:""}),r.a.createElement("button",{name:this.state.yourhand[1].url,index:1,onClick:function(t){return e.selectCard(t)}},"Select")),r.a.createElement("div",{className:"card"},r.a.createElement("img",{src:this.state.yourhand[2].url,alt:""}),r.a.createElement("button",{name:this.state.yourhand[2].url,index:2,onClick:function(t){return e.selectCard(t)}},"Select")),r.a.createElement("div",{className:"card"},r.a.createElement("img",{src:this.state.yourhand[3].url,alt:""}),r.a.createElement("button",{name:this.state.yourhand[3].url,index:3,onClick:function(t){return e.selectCard(t)}},"Select"))),r.a.createElement("button",{onClick:function(){return e.sumbitTheChosenOne()}},"Send your card"))):r.a.createElement("div",{className:"allhands"},r.a.createElement("button",{onClick:function(){return e.getCards()}}," Get cards")),r.a.createElement("div",{className:"ChatRoom"},r.a.createElement(J,{messages:this.state.messages,user:this.state.user}),r.a.createElement("form",{action:"",onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("input",{id:"message",type:"text",label:"Message",placeholder:"Enter your Message",onChange:function(t){return e.setNewMessage(t)},value:this.state.newMessage,autoComplete:"off"}),r.a.createElement("button",{id:"chatButton",type:"submit"},"Send")),r.a.createElement(J,{messages:this.state.messages,user:this.state.user}))):null)}}]),a}(n.Component)),q=a(23);var Y=O((function(e){var t=e.component,a=e.isLoggedin,n=Object(q.a)(e,["component","isLoggedin"]);return r.a.createElement(d.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(d.a,{to:"/"}):r.a.createElement(t,e)}}))}));var K=O((function(e){var t=e.component,a=e.isLoggedin,n=Object(q.a)(e,["component","isLoggedin"]);return r.a.createElement(d.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(d.a,{to:"/"})}}))}));var z=O((function(e){var t=e.component,a=e.isLoggedin,n=Object(q.a)(e,["component","isLoggedin"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(d.a,{to:"/home"}):r.a.createElement(t,e)}})))})),Q=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(w,null,r.a.createElement(d.d,null,r.a.createElement(z,{exact:!0,path:"/",component:L}),r.a.createElement(Y,{exact:!0,path:"/signup",component:j}),r.a.createElement(Y,{exact:!0,path:"/login",component:N}),r.a.createElement(K,{exact:!0,path:"/home",component:_}),r.a.createElement(K,{exact:!0,path:"/profile",component:U}),r.a.createElement(K,{exact:!0,path:"/editCard/:id",component:R}),r.a.createElement(d.b,{exact:!0,path:"/game",render:function(e){return r.a.createElement(W,e)}}),r.a.createElement(K,{exact:!0,path:"/rules",component:H})))}}]),a}(n.Component);s.a.render(r.a.createElement(l.a,null,r.a.createElement(Q,null)),document.getElementById("root"))},24:function(e,t,a){e.exports={Container:"BackgroundVideo_Container__JFldr",Video:"BackgroundVideo_Video__2L7Yu",Content:"BackgroundVideo_Content__2TMIO",SubContent:"BackgroundVideo_SubContent__3ub3H"}},28:function(e,t,a){e.exports={Container:"Rules_Container__PJA_1",Video:"Rules_Video__lsaen",Content:"Rules_Content__3KT4L",SubContent:"Rules_SubContent__1kqCn"}},36:function(e,t,a){},56:function(e,t,a){},74:function(e,t,a){e.exports=a(135)},79:function(e,t,a){}},[[74,1,2]]]);
//# sourceMappingURL=main.51ba7b15.chunk.js.map